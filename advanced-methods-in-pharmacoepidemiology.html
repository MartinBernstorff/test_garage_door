<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Advanced Methods in Pharmacoepidemiology
Propensity scores
Assumptions:

Positivity – all units must be able to receive treatment (eg. no absolute indication or contraindications)
Probably more, haven’t been talked about.

A multivariate model of being treated.

Typically used for matching or as a …">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="default">
<link rel=manifest href=https://martbern.github.io/test_garage_door/manifest.json><meta property="og:title" content>
<meta property="og:description" content="Advanced Methods in Pharmacoepidemiology Propensity scores Assumptions:
 Positivity – all units must be able to receive treatment (eg. no absolute indication or contraindications) Probably more, haven’t been talked about.  A multivariate model of being treated. Typically used for matching or as a covariate, to adjust for confounding.
 Matching Stratification Inverse treatment probability weighting (ITPW): As a weighting criterion (1/PS for treated, 1/(1-PS) for untreated), eg. The reciprocal value of the probability of receiving the treatment than you actually receive  ITPW: What if we treated everyone in the whole population, vs.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://martbern.github.io/test_garage_door/advanced-methods-in-pharmacoepidemiology.html"><meta property="article:section" content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content>
<meta name=twitter:description content="Advanced Methods in Pharmacoepidemiology Propensity scores Assumptions:
 Positivity – all units must be able to receive treatment (eg. no absolute indication or contraindications) Probably more, haven’t been talked about.  A multivariate model of being treated. Typically used for matching or as a covariate, to adjust for confounding.
 Matching Stratification Inverse treatment probability weighting (ITPW): As a weighting criterion (1/PS for treated, 1/(1-PS) for untreated), eg. The reciprocal value of the probability of receiving the treatment than you actually receive  ITPW: What if we treated everyone in the whole population, vs.">
<title>Advanced Methods in Pharmacoepidemiology - My New Hugo Site</title>
<link rel=stylesheet href=https://martbern.github.io/test_garage_door/css/main.min.33389b11303e8fae9369acbd75cced8bf796d575b1120d23baabdf9ab8d6b6d4.css>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script>
<script src=https://martbern.github.io/test_garage_door/js/main.min.d39f260c4e2374692e347baf95495b777c059586486bddf937d83d404ef59441.js integrity="sha256-058mDE4jdGkuNHuvlUlbd3wFlYZIa935N9g9QE71lEE="></script>
</head>
<body>
<style>search-menu{display:block}#search{height:100%;width:0;position:fixed;background:var(--background-search);z-index:1;top:0;left:0;border-right:1px solid var(--separator-color);overflow-x:hidden;overflow-y:auto;opacity:0;-ms-overflow-style:none;scrollbar-width:none}#search::-webkit-scrollbar{display:none}#search-header{padding:12px;position:fixed;padding-left:12px;padding-right:12px;background:var(--background-search);width:250px;opacity:1;height:50px;z-index:2;border-bottom:1px solid var(--separator-color)}#search .input-container{position:relative}#search-input{width:100%;height:24px;border:1px solid var(--separator-color);border-radius:4px;padding-left:16px;background-color:#fff;display:inline-block}#search-input:focus{border:1px solid var(--search-field-focused-color)}#search-header .input-container .search-icon{position:absolute;top:6px;left:8px;fill:#a9a9a9}#search-results img{width:122px;height:76px;border:1px solid var(--separator-color);object-fit:cover}#search-results{margin-top:50px;overflow:auto;height:100%}#search-results a{width:100%;padding-left:25px;padding-right:25px;padding-top:12px;padding-bottom:12px;display:inline-block;color:var(--text-base-color);border-bottom:1px solid var(--separator-color);border-left:6px solid var(--background-search)}#search-results a:first-child:hover,a:first-child:focus,.selected{outline:0;background-color:var(--note-table-cell-selected-color);border-left:6px solid var(--note-table-cell-ribbon-color)!important}#search-results li{text-indent:0}#search-results li:before,#search-results h1:before,#search-results h2:before,#search-results h3:before,#search-results h4:before,#search-results h5:before,#search-results h6:before{content:"";visibility:hidden;display:none}</style>
<search-menu id=search data-turbolinks-permanent>
<header id=search-header>
<div class=input-container><svg aria-hidden="true" class="search-icon" width="12" height="12" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"/></svg>
<input type=search autocomplete=off id=search-input onkeyup=performSearch() tabindex=0 placeholder="Search note">
</div>
</header>
<ul id=search-results></ul>
</search-menu>
<script></script>
<style>#toolbar{position:fixed;top:0;right:0;width:60px;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:1s;opacity:.5;padding:18px 0}#toolbar:hover{opacity:1}#close-nav-icon{display:none}</style>
<aside id=toolbar>
<span style=cursor:pointer id=open-nav-icon onclick=handleNavVisibility()><svg width="18" height="18" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="var(--text-base-color)" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="var(--text-base-color)" stroke-width="1.1" d="M14 14l4 4-4-4z"/></svg>
</span>
</aside>
<main id=main>
<div id=note-wrapper class=note-wrapper>
<h1 id=advanced-methods-in-pharmacoepidemiology>Advanced Methods in Pharmacoepidemiology</h1>
<p><em>Propensity scores</em>
Assumptions:</p>
<ul>
<li>Positivity – all units must be able to receive treatment (eg. no absolute indication or contraindications)
Probably more, haven’t been talked about.</li>
</ul>
<p>A multivariate model of being treated.
<img src=BearImages/D3007793-1E22-430A-941F-94B5569B076A-2458-000009C0032F79A0/9A1066F5-DBE7-4F34-8575-7B4432004BBE.png alt></p>
<p>Typically used for matching or as a covariate, to adjust for confounding.</p>
<ul>
<li>Matching</li>
<li>Stratification</li>
<li>Inverse treatment probability weighting (ITPW): As a weighting criterion (1/PS for treated, 1/(1-PS) for untreated), eg. The reciprocal value of the probability of receiving the treatment than you actually receive
<ul>
<li>ITPW: What if we treated everyone in the whole population, vs. treating none of them?</li>
<li>PS: What if we hadn’t treated those who actually got the treatment?</li>
</ul>
</li>
</ul>
<p>Can’t adjust for unmeasured confounding.
* Nearest neighbour
* Sequential, balanced nearest neighbor
* Greedy</p>
<p>In the case of covariate imbalance (eg. Cohen’s d > .1):</p>
<ul>
<li>Include it in the adjustment along with the PS or</li>
<li>(Up-weigh it in the regression model that builds the PS)</li>
</ul>
<p>We typically trim the tails, to remove those with near-absolute indications and contraindications (since they don’t really provide much information to us – those are the ones we know need treatment, or know shouldn’t have treatment. If treatment is contrary to prediction, it means something weird is going on. Eg. some prediction to unmeasured confounding (“clinical despair”, “we have to do something, even though we break the guidelines”).</p>
<p><img src=BearImages/504D7FB6-B8DB-4620-B8D7-73B0A6953985-2458-00000B21CD28F883/1453C83B-36D6-4889-93E7-11CFE0355D18.png alt></p>
<p><img src=BearImages/7105D734-7ACC-494D-9E49-44B8E6A42F9F-2458-00000B46047AD12D/23D3F17D-D761-421D-A485-847E0CEF34DF.png alt></p>
<p>Risk factors for the outcome but not associated with exposure, means that we match based on everything associated with the outcome except the main exposure. Removes noise on both sides (eg. exposed and unexposed), essentially.</p>
<ul>
<li>
<p>What are the advantages compared to using those variables specifically?</p>
<ul>
<li>Smaller confidence intervals?, but a loss of information?</li>
</ul>
</li>
<li>
<p>How does it fit into a causal understanding of confounding?</p>
<ul>
<li>Eg. how do we avoid collider-bias or over-adjustment bias?</li>
</ul>
</li>
</ul>
<h2 id=weighting>Weighting</h2>
<p><img src=BearImages/7A913580-3E1D-4426-B2ED-24A352B24B37-2458-00000DBAD06A110F/64916320-DA4D-4A58-AA6D-1F030D9A393A.png alt></p>