<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Programming in dplyr
Q. When would you use double-curly brackets {{ in R?
A. When referring to a variable from a function argument inside a dplyr function, e.g:

Q. You want to run a function on each row in dplyr (the function isn&rsquo;t vectorised). How might you do this?
A.
df %>%
	rowwise …">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="default">
<link rel=manifest href=https://martbern.github.io/test_garage_door/manifest.json><meta property="og:title" content>
<meta property="og:description" content="Programming in dplyr Q. When would you use double-curly brackets {{ in R? A. When referring to a variable from a function argument inside a dplyr function, e.g: Q. You want to run a function on each row in dplyr (the function isn&rsquo;t vectorised). How might you do this? A.
df %>% rowwise %>% function() %>% unnest Q. Why does this not work?
df <- df %>% mutate({{x_col}} = detrend_fn({{x_col}}, .">
<meta property="og:type" content="article">
<meta property="og:url" content="https://martbern.github.io/test_garage_door/programming-in-dplyr.html"><meta property="article:section" content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content>
<meta name=twitter:description content="Programming in dplyr Q. When would you use double-curly brackets {{ in R? A. When referring to a variable from a function argument inside a dplyr function, e.g: Q. You want to run a function on each row in dplyr (the function isn&rsquo;t vectorised). How might you do this? A.
df %>% rowwise %>% function() %>% unnest Q. Why does this not work?
df <- df %>% mutate({{x_col}} = detrend_fn({{x_col}}, .">
<title>Programming in dplyr - My New Hugo Site</title>
<link rel=stylesheet href=https://martbern.github.io/test_garage_door/css/main.min.33389b11303e8fae9369acbd75cced8bf796d575b1120d23baabdf9ab8d6b6d4.css>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script>
<script src=https://martbern.github.io/test_garage_door/js/main.min.d39f260c4e2374692e347baf95495b777c059586486bddf937d83d404ef59441.js integrity="sha256-058mDE4jdGkuNHuvlUlbd3wFlYZIa935N9g9QE71lEE="></script>
</head>
<body>
<style>search-menu{display:block}#search{height:100%;width:0;position:fixed;background:var(--background-search);z-index:1;top:0;left:0;border-right:1px solid var(--separator-color);overflow-x:hidden;overflow-y:auto;opacity:0;-ms-overflow-style:none;scrollbar-width:none}#search::-webkit-scrollbar{display:none}#search-header{padding:12px;position:fixed;padding-left:12px;padding-right:12px;background:var(--background-search);width:250px;opacity:1;height:50px;z-index:2;border-bottom:1px solid var(--separator-color)}#search .input-container{position:relative}#search-input{width:100%;height:24px;border:1px solid var(--separator-color);border-radius:4px;padding-left:16px;background-color:#fff;display:inline-block}#search-input:focus{border:1px solid var(--search-field-focused-color)}#search-header .input-container .search-icon{position:absolute;top:6px;left:8px;fill:#a9a9a9}#search-results img{width:122px;height:76px;border:1px solid var(--separator-color);object-fit:cover}#search-results{margin-top:50px;overflow:auto;height:100%}#search-results a{width:100%;padding-left:25px;padding-right:25px;padding-top:12px;padding-bottom:12px;display:inline-block;color:var(--text-base-color);border-bottom:1px solid var(--separator-color);border-left:6px solid var(--background-search)}#search-results a:first-child:hover,a:first-child:focus,.selected{outline:0;background-color:var(--note-table-cell-selected-color);border-left:6px solid var(--note-table-cell-ribbon-color)!important}#search-results li{text-indent:0}#search-results li:before,#search-results h1:before,#search-results h2:before,#search-results h3:before,#search-results h4:before,#search-results h5:before,#search-results h6:before{content:"";visibility:hidden;display:none}</style>
<search-menu id=search data-turbolinks-permanent>
<header id=search-header>
<div class=input-container><svg aria-hidden="true" class="search-icon" width="12" height="12" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"/></svg>
<input type=search autocomplete=off id=search-input onkeyup=performSearch() tabindex=0 placeholder="Search note">
</div>
</header>
<ul id=search-results></ul>
</search-menu>
<script></script>
<style>#toolbar{position:fixed;top:0;right:0;width:60px;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:1s;opacity:.5;padding:18px 0}#toolbar:hover{opacity:1}#close-nav-icon{display:none}</style>
<aside id=toolbar>
<span style=cursor:pointer id=open-nav-icon onclick=handleNavVisibility()><svg width="18" height="18" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="var(--text-base-color)" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="var(--text-base-color)" stroke-width="1.1" d="M14 14l4 4-4-4z"/></svg>
</span>
</aside>
<main id=main>
<div id=note-wrapper class=note-wrapper>
<h1 id=programming-in-dplyr>Programming in dplyr</h1>
<p>Q. When would you use double-curly brackets {{ in R?
A. When referring to a variable from a function argument inside a dplyr function, e.g:
<img src=BearImages/8F87660D-B5C6-46AD-814B-C8A332DE36AD-3579-00000023D95F1907/E55ED314-E282-4091-BEFD-A3F7E69F846D.png alt></p>
<p>Q. You want to run a function on each row in dplyr (the function isn&rsquo;t vectorised). How might you do this?
A.</p>
<pre tabindex=0><code>df %&gt;%
	rowwise %&gt;%
	function() %&gt;%
	unnest
</code></pre><p>Q. Why does this not work?</p>
<pre tabindex=0><code>df &lt;svg width=&quot;11px&quot; height=&quot;10px&quot; viewBox=&quot;0 0 11 10&quot; version=&quot;1.1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; xmlns:xlink=&quot;http://www.w3.org/1999/xlink&quot;&gt; &lt;g id=&quot;left-arrow&quot; transform=&quot;translate(5.500000, 5.000000) scale(-1, 1) translate(-5.500000, -5.000000) &quot;&gt; &lt;path d=&quot;M1.77635684e-14,5 L9,5&quot; id=&quot;rod&quot; stroke=&quot;#000000&quot; stroke-width=&quot;2&quot;&gt;&lt;/path&gt; &lt;path d=&quot;M11,5 L6,0.5 L6,9.5 L11,5 Z&quot; id=&quot;point&quot; fill=&quot;#000000&quot;&gt;&lt;/path&gt;&lt;/g&gt;&lt;/svg&gt; df %&gt;%
     mutate({{x_col}} = detrend_fn({{x_col}}, ...))
</code></pre><p>A. Assignment with double curly requires “:=“, otherwise R throws a syntax error due to curly braces left of assignment</p>
<p>Q. Why does this not work?
<img src=BearImages/9F7DAC2E-1772-49D5-BC32-F71D82F93B90-61430-000005804B816493/image_1637330144896_0.png alt>
A. dplyr verbs do not take strings as input</p>
<p>If this is the case, how do we make programmable column titless?</p>
<p>Q.
<img src=BearImages/C5F37D88-4F82-4861-AD6F-F4FB301B1102-61430-000005806B62DE9A/image_1637330144896_0.png alt>
This function call returns an error. How do you correct it?
A. Unquote “tre”</p>
<p>Q. This function call returns an error. Why is that?
<img src=BearImages/A33E9C39-5E58-4F96-8267-29F39456D7EB-61430-000005807C54FD5C/image_1637330353335_0.png alt>
A. Assignment with double curly requires “:=“, otherwise R throws a syntax error due to curly braces left of assignment</p>
<p>Q. Why do you need to use “:=” here?
<img src=BearImages/505C404C-B96E-4278-81AD-3A7B4CBA2CFF-61430-000005808AE9A8EA/image_1637330418884_0.png alt>
A. Assignment with double curly requires “:=“, otherwise R throws a syntax error due to curly braces left of assignment.</p>
<p>Q. Why does this not work?
<img src=BearImages/F06F5AA6-C4D3-40F0-B962-71DDFA2813AE-7920-00000226528724E5/1509BF33-EA5E-403F-ABAB-BC0D1186D4C2.png alt>
A. You need to use <code>!!col_out_name</code> to mark that it should pull from variable names.</p>
<p>Q. The following code returns an error.
<img src=BearImages/009186AB-28E4-4F66-AA29-4C7BB331E6A3-7920-0000022692C9A9E4/B3B41B78-BA11-4669-B838-3CED567798D3.png alt>
How do you fix it?
A.
<img src=BearImages/0F3DE9B6-E36A-4852-B549-9BA73B03FF07-7920-00000226A39A774F/E77DF6C9-D766-44F6-B7F2-83F84C9AD0FD.png alt></p>