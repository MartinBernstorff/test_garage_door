<!doctype html><html lang=en>
<head>
<meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Code for experiments on time
	<!DOCTYPE html>
<html>
<body>

<canvas id=&#34;canvas&#34; width=&#34;400&#34; height=&#34;400&#34;
style=&#34;background-color:#333&#34;>
</canvas>

<script>
var canvas = document.getElementById(&#34;canvas&#34;);
var ctx = canvas. â€¦">
<meta name=apple-mobile-web-app-capable content="yes">
<meta name=mobile-web-app-capable content="yes">
<meta name=apple-mobile-web-app-status-bar-style content="default">
<link rel=manifest href=https://martbern.github.io/test_garage_door/manifest.json><meta property="og:title" content>
<meta property="og:description" content="Code for experiments on time <!DOCTYPE html> <html> <body> <canvas id=&#34;canvas&#34; width=&#34;400&#34; height=&#34;400&#34; style=&#34;background-color:#333&#34;> </canvas> <script> var canvas = document.getElementById(&#34;canvas&#34;); var ctx = canvas.getContext(&#34;2d&#34;); var radius = canvas.height / 2; ctx.translate(radius, radius); radius = radius * 0.90 setInterval(drawClock, 1000); function drawClock() { drawFace(ctx, radius); drawNumbers(ctx, radius); drawTime(ctx, radius); } function drawFace(ctx, radius) { var grad; ctx.beginPath(); ctx.arc(0, 0, radius, 0, 2*Math.PI); ctx.fillStyle = 'white'; ctx.fill(); grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05); grad.addColorStop(0, '#333'); grad.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://martbern.github.io/test_garage_door/code-for-experiments-on-time.html"><meta property="article:section" content>
<meta name=twitter:card content="summary">
<meta name=twitter:title content>
<meta name=twitter:description content="Code for experiments on time <!DOCTYPE html> <html> <body> <canvas id=&#34;canvas&#34; width=&#34;400&#34; height=&#34;400&#34; style=&#34;background-color:#333&#34;> </canvas> <script> var canvas = document.getElementById(&#34;canvas&#34;); var ctx = canvas.getContext(&#34;2d&#34;); var radius = canvas.height / 2; ctx.translate(radius, radius); radius = radius * 0.90 setInterval(drawClock, 1000); function drawClock() { drawFace(ctx, radius); drawNumbers(ctx, radius); drawTime(ctx, radius); } function drawFace(ctx, radius) { var grad; ctx.beginPath(); ctx.arc(0, 0, radius, 0, 2*Math.PI); ctx.fillStyle = 'white'; ctx.fill(); grad = ctx.createRadialGradient(0,0,radius*0.95, 0,0,radius*1.05); grad.addColorStop(0, '#333'); grad.">
<title>Code for experiments on time - My New Hugo Site</title>
<link rel=stylesheet href=https://martbern.github.io/test_garage_door/css/main.min.33389b11303e8fae9369acbd75cced8bf796d575b1120d23baabdf9ab8d6b6d4.css>
<script src=https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js></script>
<script src=https://martbern.github.io/test_garage_door/js/main.min.d39f260c4e2374692e347baf95495b777c059586486bddf937d83d404ef59441.js integrity="sha256-058mDE4jdGkuNHuvlUlbd3wFlYZIa935N9g9QE71lEE="></script>
</head>
<body>
<style>search-menu{display:block}#search{height:100%;width:0;position:fixed;background:var(--background-search);z-index:1;top:0;left:0;border-right:1px solid var(--separator-color);overflow-x:hidden;overflow-y:auto;opacity:0;-ms-overflow-style:none;scrollbar-width:none}#search::-webkit-scrollbar{display:none}#search-header{padding:12px;position:fixed;padding-left:12px;padding-right:12px;background:var(--background-search);width:250px;opacity:1;height:50px;z-index:2;border-bottom:1px solid var(--separator-color)}#search .input-container{position:relative}#search-input{width:100%;height:24px;border:1px solid var(--separator-color);border-radius:4px;padding-left:16px;background-color:#fff;display:inline-block}#search-input:focus{border:1px solid var(--search-field-focused-color)}#search-header .input-container .search-icon{position:absolute;top:6px;left:8px;fill:#a9a9a9}#search-results img{width:122px;height:76px;border:1px solid var(--separator-color);object-fit:cover}#search-results{margin-top:50px;overflow:auto;height:100%}#search-results a{width:100%;padding-left:25px;padding-right:25px;padding-top:12px;padding-bottom:12px;display:inline-block;color:var(--text-base-color);border-bottom:1px solid var(--separator-color);border-left:6px solid var(--background-search)}#search-results a:first-child:hover,a:first-child:focus,.selected{outline:0;background-color:var(--note-table-cell-selected-color);border-left:6px solid var(--note-table-cell-ribbon-color)!important}#search-results li{text-indent:0}#search-results li:before,#search-results h1:before,#search-results h2:before,#search-results h3:before,#search-results h4:before,#search-results h5:before,#search-results h6:before{content:"";visibility:hidden;display:none}</style>
<search-menu id=search data-turbolinks-permanent>
<header id=search-header>
<div class=input-container><svg aria-hidden="true" class="search-icon" width="12" height="12" viewBox="0 0 18 18"><path d="M18 16.5l-5.14-5.18h-.35a7 7 0 10-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 112 7a5 5 0 0110 0z"/></svg>
<input type=search autocomplete=off id=search-input onkeyup=performSearch() tabindex=0 placeholder="Search note">
</div>
</header>
<ul id=search-results></ul>
</search-menu>
<script></script>
<style>#toolbar{position:fixed;top:0;right:0;width:60px;height:100%;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;transition:1s;opacity:.5;padding:18px 0}#toolbar:hover{opacity:1}#close-nav-icon{display:none}</style>
<aside id=toolbar>
<span style=cursor:pointer id=open-nav-icon onclick=handleNavVisibility()><svg width="18" height="18" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="var(--text-base-color)" stroke-width="1.1" cx="9" cy="9" r="7"/><path fill="none" stroke="var(--text-base-color)" stroke-width="1.1" d="M14 14l4 4-4-4z"/></svg>
</span>
</aside>
<main id=main>
<div id=note-wrapper class=note-wrapper>
<h1 id=code-for-experiments-on-time>Code for experiments on time</h1>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-js data-lang=js>	<span class=o>&lt;!</span><span class=nx>DOCTYPE</span> <span class=nx>html</span><span class=o>&gt;</span>
<span class=o>&lt;</span><span class=nx>html</span><span class=o>&gt;</span>
<span class=o>&lt;</span><span class=nx>body</span><span class=o>&gt;</span>

<span class=o>&lt;</span><span class=nx>canvas</span> <span class=nx>id</span><span class=o>=</span><span class=s2>&#34;canvas&#34;</span> <span class=nx>width</span><span class=o>=</span><span class=s2>&#34;400&#34;</span> <span class=nx>height</span><span class=o>=</span><span class=s2>&#34;400&#34;</span>
<span class=nx>style</span><span class=o>=</span><span class=s2>&#34;background-color:&lt;a class=&#34;</span><span class=nx>hashtag</span><span class=s2>&#34; onclick=&#34;</span><span class=nx>focusTag</span><span class=p>(</span><span class=k>this</span><span class=p>)</span><span class=s2>&#34;&gt;333&#34;</span><span class=o>&gt;&lt;</span><span class=err>/a&gt;</span>
<span class=o>&lt;</span><span class=err>/canvas&gt;</span>

<span class=o>&lt;</span><span class=nx>script</span><span class=o>&gt;</span>
<span class=kd>var</span> <span class=nx>canvas</span> <span class=o>=</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;canvas&#34;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>ctx</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>getContext</span><span class=p>(</span><span class=s2>&#34;2d&#34;</span><span class=p>);</span>
<span class=kd>var</span> <span class=nx>radius</span> <span class=o>=</span> <span class=nx>canvas</span><span class=p>.</span><span class=nx>height</span> <span class=o>/</span> <span class=mi>2</span><span class=p>;</span>
<span class=nx>ctx</span><span class=p>.</span><span class=nx>translate</span><span class=p>(</span><span class=nx>radius</span><span class=p>,</span> <span class=nx>radius</span><span class=p>);</span>
<span class=nx>radius</span> <span class=o>=</span> <span class=nx>radius</span> <span class=o>*</span> <span class=mf>0.90</span>
<span class=nx>setInterval</span><span class=p>(</span><span class=nx>drawClock</span><span class=p>,</span> <span class=mi>1000</span><span class=p>);</span>

<span class=kd>function</span> <span class=nx>drawClock</span><span class=p>()</span> <span class=p>{</span>
  <span class=nx>drawFace</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>);</span>
  <span class=nx>drawNumbers</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>);</span>
  <span class=nx>drawTime</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>);</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>drawFace</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>grad</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>arc</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>radius</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=o>*</span><span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s1>&#39;white&#39;</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
  <span class=nx>grad</span> <span class=o>=</span> <span class=nx>ctx</span><span class=p>.</span><span class=nx>createRadialGradient</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=nx>radius</span><span class=o>*</span><span class=mf>0.95</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=nx>radius</span><span class=o>*</span><span class=mf>1.05</span><span class=p>);</span>
  <span class=nx>grad</span><span class=p>.</span><span class=nx>addColorStop</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=s1>&#39;&lt;a class=&#34;hashtag&#34; onclick=&#34;focusTag(this)&#34;&gt;333&#39;</span><span class=p>);</span><span class=o>&lt;</span><span class=err>/a&gt;</span>
  <span class=nx>grad</span><span class=p>.</span><span class=nx>addColorStop</span><span class=p>(</span><span class=mf>0.5</span><span class=p>,</span> <span class=s1>&#39;white&#39;</span><span class=p>);</span>
  <span class=nx>grad</span><span class=p>.</span><span class=nx>addColorStop</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;&lt;a class=&#34;hashtag&#34; onclick=&#34;focusTag(this)&#34;&gt;333&#39;</span><span class=p>);</span><span class=o>&lt;</span><span class=err>/a&gt;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>strokeStyle</span> <span class=o>=</span> <span class=nx>grad</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>=</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.1</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>arc</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.1</span><span class=p>,</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>2</span><span class=o>*</span><span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=p>);</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillStyle</span> <span class=o>=</span> <span class=s1>&#39;&lt;a class=&#34;hashtag&#34; onclick=&#34;focusTag(this)&#34;&gt;333&#39;</span><span class=p>;</span><span class=o>&lt;</span><span class=err>/a&gt;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>fill</span><span class=p>();</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>drawNumbers</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>)</span> <span class=p>{</span>
  <span class=kd>var</span> <span class=nx>ang</span><span class=p>;</span>
  <span class=kd>var</span> <span class=nx>num</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>font</span> <span class=o>=</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.07</span> <span class=o>+</span> <span class=s2>&#34;px helvetica&#34;</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>textBaseline</span><span class=o>=</span><span class=s2>&#34;middle&#34;</span><span class=p>;</span>
  <span class=nx>ctx</span><span class=p>.</span><span class=nx>textAlign</span><span class=o>=</span><span class=s2>&#34;center&#34;</span><span class=p>;</span>
  <span class=k>for</span><span class=p>(</span><span class=nx>num</span> <span class=o>=</span> <span class=mi>1</span><span class=p>;</span> <span class=nx>num</span> <span class=o>&lt;</span> <span class=mi>25</span><span class=p>;</span> <span class=nx>num</span><span class=o>++</span><span class=p>){</span>
    <span class=nx>ang</span> <span class=o>=</span> <span class=mf>2.63</span> <span class=o>+</span> <span class=p>(</span><span class=nx>num</span> <span class=o>*</span> <span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span> <span class=o>/</span> <span class=mi>12</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=nx>ang</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=nx>radius</span><span class=o>*</span><span class=mf>0.85</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=o>-</span><span class=nx>ang</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>fillText</span><span class=p>(</span><span class=nx>num</span><span class=p>.</span><span class=nx>toString</span><span class=p>(),</span> <span class=mi>0</span><span class=p>,</span> <span class=mi>0</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=nx>ang</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>translate</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.85</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=o>-</span><span class=nx>ang</span><span class=p>);</span>
  <span class=p>}</span>
<span class=p>}</span>

<span class=kd>function</span> <span class=nx>drawTime</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>radius</span><span class=p>){</span>
    <span class=kd>var</span> <span class=nx>now</span> <span class=o>=</span> <span class=k>new</span> <span class=nb>Date</span><span class=p>();</span>
    <span class=kd>var</span> <span class=nx>hour</span> <span class=o>=</span> <span class=nx>now</span><span class=p>.</span><span class=nx>getHours</span><span class=p>();</span>
    <span class=kd>var</span> <span class=nx>minute</span> <span class=o>=</span> <span class=nx>now</span><span class=p>.</span><span class=nx>getMinutes</span><span class=p>();</span>
    <span class=kd>var</span> <span class=nx>second</span> <span class=o>=</span> <span class=nx>now</span><span class=p>.</span><span class=nx>getSeconds</span><span class=p>();</span>
    <span class=c1>//hour
</span><span class=c1></span>    <span class=nx>hour</span><span class=o>=</span><span class=nx>hour</span><span class=o>%</span><span class=mi>12</span><span class=o>-</span><span class=mi>2</span><span class=p>;</span>
    <span class=nx>hour</span><span class=o>=</span><span class=p>(</span><span class=nx>hour</span><span class=o>*</span><span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=o>/</span><span class=mi>12</span><span class=p>)</span><span class=o>+</span>
    <span class=p>(</span><span class=nx>minute</span><span class=o>*</span><span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=o>/</span><span class=p>(</span><span class=mi>12</span><span class=o>*</span><span class=mi>60</span><span class=p>))</span><span class=o>+</span>
    <span class=p>(</span><span class=nx>second</span><span class=o>*</span><span class=nb>Math</span><span class=p>.</span><span class=nx>PI</span><span class=o>/</span><span class=p>(</span><span class=mi>2</span><span class=o>*</span><span class=mi>360</span><span class=o>*</span><span class=mi>60</span><span class=p>));</span>
    <span class=nx>drawHand</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>hour</span><span class=p>,</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.8</span><span class=p>,</span> <span class=nx>radius</span><span class=o>*</span><span class=mf>0.03</span><span class=p>);</span>
    <span class=c1>//minute
</span><span class=c1></span>    <span class=c1>//minute=(minute*Math.PI/30)+(second*Math.PI/(30*60));
</span><span class=c1></span>    <span class=c1>//drawHand(ctx, minute, radius*0.8, radius*0.07);
</span><span class=c1></span>    <span class=c1>//second
</span><span class=c1></span>    <span class=c1>//second=(second*Math.PI/30);
</span><span class=c1></span>    <span class=c1>//drawHand(ctx, second, radius*0.9, radius*0.02);
</span><span class=c1></span><span class=p>}</span>

<span class=kd>function</span> <span class=nx>drawHand</span><span class=p>(</span><span class=nx>ctx</span><span class=p>,</span> <span class=nx>pos</span><span class=p>,</span> <span class=nx>length</span><span class=p>,</span> <span class=nx>width</span><span class=p>)</span> <span class=p>{</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>beginPath</span><span class=p>();</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineWidth</span> <span class=o>=</span> <span class=nx>width</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineCap</span> <span class=o>=</span> <span class=s2>&#34;round&#34;</span><span class=p>;</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>moveTo</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span><span class=mi>0</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=nx>pos</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>lineTo</span><span class=p>(</span><span class=mi>0</span><span class=p>,</span> <span class=o>-</span><span class=nx>length</span><span class=p>);</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>stroke</span><span class=p>();</span>
    <span class=nx>ctx</span><span class=p>.</span><span class=nx>rotate</span><span class=p>(</span><span class=o>-</span><span class=nx>pos</span><span class=p>);</span>
<span class=p>}</span>
<span class=o>&lt;</span><span class=err>/script&gt;</span>

<span class=o>&lt;</span><span class=err>/body&gt;</span>
<span class=o>&lt;</span><span class=err>/html&gt;</span>

</code></pre></div><h2 id=backlinks>Backlinks</h2>
<ul>
<li><a href=nudge-towards-being-more-aware-of-time.html>Nudge towards being more aware of time?</a>
<ul>
<li>With <a href=code-for-experiments-on-time.html>Code for experiments on time</a></li>
</ul>
</li>
</ul>